
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Andrew Capshaw &middot; {{page.title}}</title>
    <meta name="author" content="Andrew Capshaw" />
    <meta name="description" content="Hi, I'm Andrew! I am a software engineering manager in Austin, TX. I aim to build things that make other people's lives better.">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/static/img/foreach.png" />
    <link rel="stylesheet" href="/static/css/main.css" type="text/css" />
    <link rel="apple-touch-icon" href="/static/img/foreach.png" />
</head>
<body>

{{ content }}

<script>
    // Hacky code to enable dark-mode by opt-in or time-of-day
    // Would be really cool to base this on sun and/or user preferences too
    var currentHour = (new Date()).getHours();
    var isTimeForDarkMode = currentHour > 17 || currentHour < 8;
    var hasDarkModeToggle = window.location.href.includes('darkmode');
    var hasLightModeToggle = window.location.href.includes('lightmode');

    // For whatever reason, use cookie keys instead of values for simplicity
    var hasDarkModeCookie = document.cookie.match(/^(.*;)?\s*darkmode\s*=\s*[^;]+(.*)?$/);
    var hasLightModeCookie = document.cookie.match(/^(.*;)?\s*lightmode\s*=\s*[^;]+(.*)?$/);

    if ((isTimeForDarkMode || hasDarkModeToggle || hasDarkModeCookie) && !hasLightModeToggle && !hasLightModeCookie) {
        document.body.classList.add('darkmode');
    }
</script>
</body>
</html>
